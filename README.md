# AutoDock Vina Automation with A.V.A

A.V.A is designed to automate the processing of ligand docking for small collections of molecules (2-10 molecules) to a targeted region of a protein in Autodock Vina with relative ease.

## Dependencies

-   Python 3.7
-   AutoDock Vina 1.1.2
-   AutoDockTools (for determining search space and co-ordinates)

## Installing A.V.A on Linux & MacOSX

At the command line, change directory to the directory where ava-v2.py was downloaded, `<download-directory>`{=html}, using the full path name.

    cd <download-directory>

Now move the file to where you normally keep your binaries. This directory should be in your path. Note: you may require administrative privileges to do this (either switching user to root or by using sudo).

As root:

    mv ava-v2.py /usr/local/bin/

As regular user:

    sudo mv ava-v2.py /usr/local/bin/

A.V.A should now run from the shell or Terminal using the command ava-v2.py

Alternatively, ava-v2.py can be run directly from an IDE.

## Pre-processing for A.V.A

Before running A.V.A the following pre-processing must take place:

- All ligand and receptor files must be converted to the .pdbqt file format.

- Determine the size of the search space (box size) and its position relative to the receptor protein (coordinates).
      

These processes can all be achieved using AutoDock Tools.

## Running A.V.A

A directory should be set-up containing all ligand and receptor files in the .pdbqt file format before running ava-v2.py in the directory. A.V.A will then ask for the following inputs, press enter to continue after each input:

Working directory: The path to the directory containing all pre-processed files.

Ligand(s): The file name for each ligand separated by a space
           e.g: Ligand1.pdbqt Ligand2.pdbqt Ligand3.pdbqt

Receptor: The file name of the target protein
          e.g: Protein.pdbqt
          
Coordinates: The coordinates of the search area separated by spaces formatted as x y z
             e.g: 10 -5 88
             
Box size: The size of the search area separated by spaces formatted as x y z
          e.g: 20 20 20

Seed(s): The integers used to seed the docking experiment(s) separated by spaces
         e.g: 727 184 474
         

N.B.The default seed used if left blank is 0

## Intermediates and Raw Outputs

Several intermediates and raw data files are produced by A.V.A and
Autodock Vina:

- A.V.A creates config files for each ligand for every seed in order to run AutoDock Vina. These are labelled in the format LIGAND-vina-config-X.txt (LIGAND = ligand used, X = seed used).

- Autodock Vina creates A log and conformation file are created for each ligand. These are stored in the working directory in directories labelled with the seed used. E.g If the seed used were 484 and 309, the raw data would be stored in directories: conformations-309, conformations-484, logs-309, logs-484. Log files are labelled in the format LIGAND-vina-log-X.txt and conformation files are labelled in the format LIGAND-vina-X.pdbqt (LIGAND = ligand used, X = seed used).

## Processed Outputs

After running AutoDock Vina, A.V.A process the raw data into processed outputs stored in a directory labelled results in the current working directory. These files are:

- A csv file containing the ligand binding affinity for every ligand in each docking experiment. This is collected from the log files generated by AutoDock Vina. This is called binding-affinity-data.csv

- A PyMol session that visualises docking conformations of all ligands from all seeds on the target protein. This is called analysis.pse .

## Comments

Future work may include, introducing the option to identify flexible residues in the target protein.
